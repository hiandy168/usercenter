/*! nice-validator 0.10.9
 * (c) 2012-2016 Jony Zhang <niceue@live.com>, MIT Licensed
 * https://github.com/niceue/nice-validator
 */
!function(e){"function"==typeof define&&(define.amd||define.cmd)?define([],function(){return e}):e(jQuery)}(function(e,t){"use strict";function i(t,n){function s(){a._init(a.$el[0],n)}var a=this;return a instanceof i?(a.$el=e(t),void(a.$el.length?i.loading?e(window).on("validatorready",s):s():Q(t)&&(Y[t]=n))):new i(t,n)}function n(t){function i(){this.getValue=function(){return e(this.element).val()},this.setValue=function(t){e(this.element).val(this.value=t)}}function n(e){this.key=e}return i.prototype=t,n.prototype=new i,n}function s(e,t){if(X(e)){var i,n=t?t===!0?this:t:s.prototype;for(i in e)m(i)&&(n[i]=r(e[i]))}}function a(e,t){if(X(e)){var i,n=t?t===!0?this:t:a.prototype;for(i in e)n[i]=e[i]}}function r(t){switch(e.type(t)){case"function":return t;case"array":var i=function(){return t.msg=t[1],t[0].test(this.value)||t[1]||!1};return i.msg=t[1],i;case"regexp":return function(){return t.test(this.value)}}}function l(t){var i,n,s;if(t&&t.tagName){switch(t.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":i=t.form||e(t).closest("."+k);break;case"FORM":i=t;break;default:i=e(t).closest("."+k)}for(n in Y)if(e(i).is(n)){s=Y[n];break}return e(i).data(v)||e(i)[v](s).data(v)}}function o(e,t){var i=W(G(e,O+"-"+t));if(i)return i=new Function("return "+i)(),i?r(i):void 0}function u(e,t,i){var n=t.msg,s=t._r;return X(n)&&(n=n[s]),Q(n)||(n=G(e,$+"-"+s)||G(e,$)||(i?Q(i)?i:i[s]:"")),n}function d(e){var t;return e&&(t=L.exec(e)),t&&t[0]}function c(e){return Q(e)||X(e)&&("error"in e||"ok"in e)?e:void 0}function f(e){return"INPUT"===e.tagName&&"checkbox"===e.type||"radio"===e.type}function g(e){return Date.parse(e.replace(/\.|\-/g,"/"))}function m(e){return/^\w+$/.test(e)}function p(e){return"#"===e.charAt(0)?e.replace(/(:|\.|\[|\])/g,"\\$1"):'[name="'+e+'"]:input'}var h,v="validator",_="."+v,y=".rule",w=".field",b=".form",k="nice-"+v,x="msg-box",V="aria-required",M="aria-invalid",O="data-rule",$="data-msg",F="data-tip",C="data-ok",T="data-timely",E="data-target",A="data-display",j="data-must",N="novalidate",R=":verifiable",S=/(&)?(!)?\b(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||\?)?/g,D=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,q=/(?:([^:;\(\[]*):)?(.*)/,I=/[^\x00-\xff]/g,L=/top|right|bottom|left/,B=/(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,U=/[<>'"`\\]|&#x?\d+[A-F]?;?|%3[A-F]/gim,H=e.noop,P=e.proxy,W=e.trim,J=e.isFunction,Q=function(e){return"string"==typeof e},X=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},z=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),G=function(e,i,n){return e&&e.tagName?n===t?e.getAttribute(i):void(null===n?e.removeAttribute(i):e.setAttribute(i,""+n)):null},K=window.console||{log:H,info:H},Y={},Z={debug:0,timely:1,theme:"default",ignore:"",focusInvalid:!0,beforeSubmit:H,msgWrapper:"span",msgMaker:function(t){var i;return i='<span role="alert" class="msg-wrap n-'+t.type+'">'+t.arrow,t.result?e.each(t.result,function(e,n){i+='<span class="n-'+n.type+'">'+t.icon+'<span class="n-msg">'+n.msg+"</span></span>"}):i+=t.icon+'<span class="n-msg">'+t.msg+"</span>",i+="</span>"},msgArrow:"",msgIcon:'<span class="n-icon"></span>',msgClass:"",validClass:"n-valid",invalidClass:"n-invalid"},ee={"default":{formClass:"n-default",msgClass:"n-right"}};e.fn[v]=function(t){var n=this,s=arguments;return n.is(":input")?n:(!n.is("form")&&(n=this.find("form")),!n.length&&(n=this),n.each(function(){var n=e(this).data(v);if(n)if(Q(t)){if("_"===t.charAt(0))return;n[t].apply(n,Array.prototype.slice.call(s,1))}else t&&(n._reset(!0),n._init(this,t));else new i(this,t)}),this)},e.fn.isValid=function(e,t){var i,n,s=l(this[0]),a=J(e);return s?(s.checkOnly=!!t,n=s.options,i=s._multiValidate(this.is(":input")?this:this.find(R),function(t){t||!n.focusInvalid||s.checkOnly||s.$el.find("["+M+"]:first").focus(),a&&(e.length?e(t):t&&e()),s.checkOnly=!1}),a?this:i):!0},e.expr[":"].verifiable=function(e){var t=e.nodeName.toLowerCase();return("input"===t&&!{submit:1,button:1,reset:1,image:1}[e.type]||"select"===t||"textarea"===t)&&e.disabled===!1},e.expr[":"].filled=function(t){return!!W(e(t).val())},i.prototype={_init:function(t,i){var r,l,o,u=this;J(i)&&(i={valid:i}),i=i||{},o=G(t,"data-"+v+"-option"),o=o&&"{"===o.charAt(0)?new Function("return "+o)():{},l=ee[i.theme||o.theme||Z.theme],r=u.options=e.extend({},Z,l,u.options,i,o),u.rules=new s(r.rules,!0),u.messages=new a(r.messages,!0),u.Field=n(u),u.elements=u.elements||{},u.deferred={},u.errors={},u.fields={},u._initFields(r.fields),u.msgOpt={type:"error",pos:d(r.msgClass),wrapper:r.msgWrapper,cls:r.msgClass,style:r.msgStyle,arrow:r.msgArrow,icon:r.msgIcon,show:r.msgShow,hide:r.msgHide},Q(r.target)&&u.$el.find(r.target).addClass("msg-container"),u.$el.data(v)||(u.$el.data(v,u).addClass(k+" "+r.formClass).on("form-submit-validate",function(e,t,i,n,s){u.vetoed=s.veto=!u.isValid,u.ajaxFormOptions=n}).on("submit"+_+" validate"+_,P(u,"_submit")).on("reset"+_,P(u,"_reset")).on("showmsg"+_,P(u,"_showmsg")).on("hidemsg"+_,P(u,"_hidemsg")).on("focusin"+_+" click"+_,R,P(u,"_focusin")).on("focusout"+_+" validate"+_,R,P(u,"_focusout")),r.timely&&u.$el.on("keyup"+_+" input"+_+" compositionstart compositionend",R,P(u,"_focusout")).on("click"+_,":radio,:checkbox","click",P(u,"_focusout")).on("change"+_,'select,input[type="file"]',"change",P(u,"_focusout")),u._novalidate=G(t,N),G(t,N,N))},_guessAjax:function(t){function i(t,i,n){return t&&t[i]&&e.map(t[i],function(e){return~e.namespace.indexOf(n)?1:null}).length?!0:!1}var n=this;if(!(n.isAjaxSubmit=!!n.options.valid)){var s=(e._data||e.data)(t,"events");n.isAjaxSubmit=i(s,"valid","form")||i(s,"submit","form-plugin")}},_initFields:function(t){var i=this,n=null===t;n&&(t=i.fields),X(t)&&e.each(t,function(t,s){if(null===s||n){var a=i.elements[t];a&&i._resetElement(a,!0),delete i.fields[t]}else i.fields[t]=i.fields[t]||new i.Field(t),e.extend(i.fields[t],Q(s)?{rule:s}:s)}),i.$el.find(R).each(function(){i._parse(this)})},_parse:function(e){var t,i,n=this,s=n.options,a=e.name,r=G(e,O);return r&&G(e,O,null),(e.id&&"#"+e.id in n.fields||!a||null!==r&&(t=n.fields[a])&&r!==t.rule&&e.id&&t.key!==e.id)&&(a="#"+e.id),a?(t=n.getField(a,!0),t.rule=r||t.rule||"",t.display||!(t.display=G(e,A))&&s.display&&(t.display=s.display),t.rule&&((null!==G(e,j)||/match\(|checked/.test(t.rule))&&(t.must=!0),~t.rule.indexOf("required")&&(t.required=!0,G(e,V,!0)),"showOk"in t||(t.showOk=s.showOk),i=G(e,T),i?t.timely=+i:"timely"in t&&G(e,T,+t.timely),n._parseRule(t),t.old={}),Q(t.target)&&G(e,E,t.target),Q(t.tip)&&G(e,F,t.tip),n.fields[a]=t):void 0},_parseRule:function(i){var n=q.exec(i.rule);n&&(i._i=0,n[1]&&(i.display=n[1]),n[2]&&(i._rules=[],n[2].replace(S,function(){var n=arguments;n[4]=n[4]||n[5],i._rules.push({and:"&"===n[1],not:"!"===n[2],or:"|"===n[6],ef:"?"===n[6],method:n[3],params:n[4]?e.map(n[4].split(", "),function(e){return W(e)}):t})})))},_multiValidate:function(i,n){var s=this,a=s.options;return s.hasError=!1,a.ignore&&(i=i.not(a.ignore)),i.each(function(){return s._validate(this),s.hasError&&a.stopOnError?!1:void 0}),n&&(s.validating=!0,e.when.apply(null,e.map(s.deferred,function(e){return e})).done(function(){n.call(s,!s.hasError),s.validating=!1})),e.isEmptyObject(s.deferred)?!s.hasError:t},_submit:function(i){function n(){var e=document.createElement("form").submit;e.call(r)}var s=this,a=s.options,r=i.target,l="submit"===i.type&&!i.isDefaultPrevented();if(i.preventDefault(),!(h&&~(h=!1)||s.submiting||"validate"===i.type&&s.$el[0]!==r||a.beforeSubmit.call(s,r)===!1)){if(s.isAjaxSubmit===t&&s._guessAjax(r),l&&s.isValid&&i.isTrigger)return void n();a.debug&&K.log("\n<<< "+(i.isTrigger?"trigger: ":"event: ")+i.type),s._reset(),s.submiting=!0,s._multiValidate(s.$el.find(R),function(t){var i,o=t||2===a.debug?"valid":"invalid";t||(a.focusInvalid&&s.$el.find("["+M+"]:first").focus(),i=e.map(s.errors,function(e){return e})),s.submiting=!1,s.isValid=t,J(a[o])&&a[o].call(s,r,i),s.$el.trigger(o+b,[r,i]),a.debug&&K.log(">>> "+o),t&&(s.vetoed?e(r).ajaxSubmit(s.ajaxFormOptions):l&&!s.isAjaxSubmit&&n())})}},_reset:function(e){var t=this;t.errors={},e&&(t.reseting=!0,t.$el.find(R).each(function(e,i){t._resetElement(i)}),delete t.reseting)},_resetElement:function(e,t){this._setClass(e,null),this.hideMsg(e),t&&G(e,V,null)},_getTimely:function(e,t){var i=G(e,T);return null!==i?+i:+t.timely},_focusin:function(e){var t,i,n=this,s=n.options,a=e.target;n.validating||"click"===e.type&&document.activeElement===a||(s.focusCleanup&&"true"===G(a,M)&&(n._setClass(a,null),n.hideMsg(a)),i=G(a,F),i?n.showMsg(a,{type:"tip",msg:i}):(G(a,O)&&n._parse(a),t=n._getTimely(a,s),(8===t||9===t)&&n._focusout(e)))},_focusout:function(i){var n,s,a,r,l,o,u,d,c,g=this,m=g.options,p=i.target,h=i.type,v="focusin"===h,_="validate"===h,y=0;if("compositionstart"===h&&(g.pauseValidate=!0),"compositionend"===h&&(g.pauseValidate=!1),!g.pauseValidate&&(s=p.name&&f(p)?g.$el.find('input[name="'+p.name+'"]').get(0):p,a=g.getField(s))){if(n=a._e,a._e=h,c=g._getTimely(s,m),!_){if(!c||f(p)&&"click"!==h)return;if(l=a.getValue(),m.ignoreBlank&&!l&&!v)return void g.hideMsg(p);if("focusout"===h){if("change"===n)return;if(2===c||8===c){if(!l)return;r=a.old,a.isValid&&!r.showOk?g.hideMsg(p):g._makeMsg(p,a,r)}}else{if(2>c&&!i.data)return;if(o=+new Date,o-(p._ts||0)<100)return;if(p._ts=o,"keyup"===h){if("input"===n)return;if(u=i.keyCode,d={8:1,9:1,16:1,32:1,46:1},9===u&&!l)return;if(48>u&&!d[u])return}v||(y=100>c?"click"===h||"SELECT"===p.tagName?0:400:c)}}m.ignore&&e(p).is(m.ignore)||(clearTimeout(a._t),c!==t&&(a.timely=c),y?a._t=setTimeout(function(){g._validate(p,a)},y):(_&&(a.old={}),g._validate(p,a)))}},_setClass:function(t,i){var n=e(t),s=this.options;s.bindClassTo&&(n=n.closest(s.bindClassTo)),n.removeClass(s.invalidClass+" "+s.validClass),null!==i&&n.addClass(i?s.validClass:s.invalidClass)},_showmsg:function(t,i,n){var s=this,a=t.target;e(a).is(":input")?s.showMsg(a,{type:i,msg:n}):"tip"===i&&s.$el.find(R+"["+F+"]",a).each(function(){s.showMsg(this,{type:i,msg:n})})},_hidemsg:function(t){var i=e(t.target);i.is(":input")&&this.hideMsg(i)},_validatedField:function(t,i,n){var s=this,a=s.options,r=i.isValid=n.isValid=!!n.isValid,l=r?"valid":"invalid";n.key=i.key,n.ruleName=i._r,n.id=t.id,n.value=i.value,r?n.type="ok":(s.submiting&&(s.errors[i.key]=n.msg),s.isValid=!1,s.hasError=!0),s.elements[i.key]=n.element=t,s.$el[0].isValid=r?s.isFormValid():r,i.old=n,J(i[l])&&i[l].call(s,t,n),J(a.validation)&&a.validation.call(s,t,n),e(t).attr(M,r?null:!0).trigger(l+w,[n,s]),s.$el.triggerHandler("validation",[n,s]),s.checkOnly||(s._setClass(t,n.skip||"tip"===n.type?null:r),s._makeMsg.apply(s,arguments))},_makeMsg:function(t,i,n){(i.msgMaker||this.options.msgMaker)&&(n=e.extend({},n),"focusin"===i._e&&(n.type="tip"),this[n.showOk||n.msg||"tip"===n.type?"showMsg":"hideMsg"](t,n,i))},_validatedRule:function(i,n,s,a){n=n||c.getField(i),a=a||{};var r,l,o,d,c=this,f=c.options,g=n._r,m=n.timely||f.timely,p=9===m||8===m,h=!1;if(null===s)return c._validatedField(i,n,{isValid:!0,skip:!0}),void(n._i=0);if(s===t?o=!0:s===!0||""===s?h=!0:Q(s)?r=s:X(s)&&(s.error?r=s.error:(r=s.ok,h=!0)),l=n._rules[n._i],l.not&&(r=t,h="required"===g||!h),l.or)if(h)for(;n._i<n._rules.length&&n._rules[n._i].or;)n._i++;else o=!0;else l.and?n.isValid||(o=!0):l.ef&&(h||n._rules[n._i+1].and&&c.submiting||n._i++,o=!0);o?h=!0:(h&&n.showOk!==!1&&(d=G(i,C),r=null===d?Q(n.ok)?n.ok:r:d,!Q(r)&&Q(n.showOk)&&(r=n.showOk),Q(r)&&(a.showOk=h)),(!h||p)&&(r=(u(i,n,r||l.msg||c.messages[g])||c.messages.fallback).replace(/\{0\|?([^\}]*)\}/,function(){return c._getDisplay(i,n.display)||arguments[1]||c.messages[0]})),h||(n.isValid=h),a.msg=r,e(i).trigger((h?"valid":"invalid")+y,[g,r])),!p||o&&!l.and||(h||n._m||(n._m=r),n._v=n._v||[],n._v.push({type:h?o?"tip":"ok":"error",msg:r||l.msg})),f.debug&&K.log("   "+n._i+": "+g+" => "+(h||r)),(h||p)&&n._i<n._rules.length-1?(n._i++,c._checkRule(i,n)):(n._i=0,p?(a.isValid=n.isValid,a.result=n._v,a.msg=n._m||"",n.value||"focusin"!==n._e||(a.type="tip")):a.isValid=h,c._validatedField(i,n,a),delete n._m,delete n._v)},_checkRule:function(i,n){var s,a,r,l=this,u=n.key,d=n._rules[n._i],f=d.method,g=d.params;l.submiting&&l.deferred[u]||(r=n.old,n._r=f,r&&!n.must&&!d.must&&d.result!==t&&r.ruleName===f&&r.id===i.id&&n.value&&r.value===n.value?s=d.result:(a=o(i,f)||l.rules[f]||H,s=a.call(n,i,g,n),a.msg&&(d.msg=a.msg)),X(s)&&J(s.then)?(l.deferred[u]=s,n.isValid=t,!l.checkOnly&&l.showMsg(i,{type:"loading",msg:l.messages.loading},n),s.then(function(s,a,r){var o,u=r.responseText,f=n.dataFilter||l.options.dataFilter||c;/jsonp?/.test(this.dataType)?u=s:"{"===W(u).charAt(0)&&(u=e.parseJSON(u)),o=f.call(this,u,n),o===t&&(o=f.call(this,u.data,n)),d.data=this.data,d.result=n.old?o:t,l._validatedRule(i,n,o)},function(e,t){l._validatedRule(i,n,l.messages[t]||t)}).always(function(){delete l.deferred[u]})):l._validatedRule(i,n,s))},_validate:function(e,t){var i=this;if(!e.disabled&&null===G(e,N)&&(t=t||i.getField(e),t&&(t._rules||i._parse(e),t._rules)))return i.options.debug&&K.info(t.key),t.isValid=!0,t.element=e,t.value=t.getValue(),t.required||t.must||t.value||f(e)?(i._checkRule(e,t),t.isValid):(i._validatedField(e,t,{isValid:!0}),!0)},test:function(e,i){var n,s,a,r,l=this,o=D.exec(i);return o&&(a=o[1],a in l.rules&&(r=o[2]||o[3],r=r?r.split(", "):t,s=l.getField(e,!0),s._r=a,s.value=s.getValue(),n=l.rules[a].call(s,e,r))),n===!0||n===t||null===n},getRangeMsg:function(e,t,i,n){function s(e,t){return u?e>t:e>=t}if(t){var a,r=this,l=r.messages[i._r]||"",o=t[0].split("~"),u="false"===t[1],d=o[0],c=o[1],f="rg",g=[""],m=W(e)&&+e===+e;return 2===o.length?d&&c?(m&&s(e,+d)&&s(+c,e)&&(a=!0),g=g.concat(o),f=u?"gtlt":"rg"):d&&!c?(m&&s(e,+d)&&(a=!0),g.push(d),f=u?"gt":"gte"):!d&&c&&(m&&s(+c,e)&&(a=!0),g.push(c),f=u?"lt":"lte"):(e===+d&&(a=!0),g.push(d),f="eq"),l&&(n&&l[f+n]&&(f+=n),g[0]=l[f]),a||i._rules&&(i._rules[i._i].msg=r.renderMsg.apply(null,g))}},renderMsg:function(){var e=arguments,t=e[0],i=e.length;if(t){for(;--i;)t=t.replace("{"+i+"}",e[i]);return t}},_getDisplay:function(e,t){return Q(t)?t:J(t)?t.call(this,e):""},_getMsgOpt:function(t){return e.extend({},this.msgOpt,Q(t)?{msg:t}:t)},_getMsgDOM:function(t,i){var n,s,a,r,l=e(t);if(l.is(":input")?(a=i.target||G(t,E),a&&(a=J(a)?a.call(this,t):this.$el.find(a),a.length&&(a.is(":input")?t=a.get(0):a.hasClass(x)?n=a:r=a)),n||(s=f(t)&&t.name||!t.id?t.name:t.id,n=this.$el.find(i.wrapper+"."+x+'[for="'+s+'"]'))):n=l,!n.length)if(l=this.$el.find(a||t),n=e("<"+i.wrapper+">").attr({"class":x+(i.cls?" "+i.cls:""),style:i.style||"","for":s}),f(t)){var o=l.parent();n.appendTo(o.is("label")?o.parent():o)}else r?n.appendTo(r):n[i.pos&&"right"!==i.pos?"insertBefore":"insertAfter"](l);return n},showMsg:function(t,i,n){if(t){var s,a,r,l=this,o=l.options;if(X(t)&&!t.jquery&&!i)return void e.each(t,function(e,t){var i=l.elements[e]||l.$el.find(p(e))[0];l.showMsg(i,t)});i=l._getMsgOpt(i),t=e(t).get(0),i.msg||"error"===i.type||(a=G(t,"data-"+i.type),null!==a&&(i.msg=a)),Q(i.msg)&&(e(t).is(R)&&(n=n||l.getField(t),n&&(i.style=n.msgStyle||i.style,i.cls=n.msgClass||i.cls,i.wrapper=n.msgWrapper||i.wrapper,i.target=n.target||o.target)),(s=(n||{}).msgMaker||o.msgMaker)&&(r=l._getMsgDOM(t,i),!L.test(r[0].className)&&r.addClass(i.cls),6===z&&"bottom"===i.pos&&(r[0].style.marginTop=e(t).outerHeight()+"px"),r.html(s.call(l,i))[0].style.display="",J(i.show)&&i.show.call(l,r,i.type)))}},hideMsg:function(t,i,n){var s,a=this,r=a.options;t=e(t).get(0),i=a._getMsgOpt(i),e(t).is(R)&&(n=n||a.getField(t),n&&((n.isValid||a.reseting)&&G(t,M,null),i.wrapper=n.msgWrapper||i.wrapper,i.target=n.target||r.target)),s=a._getMsgDOM(t,i),s.length&&(J(i.hide)?i.hide.call(a,s,i.type):(s[0].style.display="none",s[0].innerHTML=null))},getField:function(e,t){var i,n,s=this;if(Q(e))i=e;else{if(G(e,O))return s._parse(e);i=e.id&&"#"+e.id in s.fields||!e.name?"#"+e.id:e.name}return((n=s.fields[i])||t&&(n=new s.Field(i)))&&(n.element=e),n},setField:function(e,t){var i={};e&&(Q(e)?i[e]=t:i=e,this._initFields(i))},isFormValid:function(){var e,t,i=this.fields;for(e in i)if(t=i[e],t._rules&&(t.required||t.must||t.value)&&!t.isValid)return t.isValid;return!0},holdSubmit:function(e){this.submiting=e===t||e},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(_).removeData(v),G(this.$el[0],N,this._novalidate)}},e(window).on("beforeunload",function(){this.focus()}),e(document).on("click",":submit",function(){var e,t=this;t.form&&(e=t.getAttributeNode("formnovalidate"),(e&&null!==e.nodeValue||null!==G(t,N))&&(h=!0))}).on("focusin submit validate","form,."+k,function(t){if(null===G(this,N)){var i,n=e(this);n.data(v)||(i=l(this),e.isEmptyObject(i.fields)?(G(this,N,N),n.off(_).removeData(v)):"focusin"===t.type?i._focusin(t):i._submit(t))}}),new a({fallback:"This field is not valid.",loading:"Validating..."}),new s({required:function(t,i){var n=this,s=W(n.value),a=!0;if(i)if(1===i.length){if(m(i[0])){if(n.rules[i[0]]){if(!s&&!n.test(t,i[0]))return G(t,V,null),null;G(t,V,!0)}}else if(!s&&!e(i[0],n.$el).length)return null}else if("not"===i[0])e.each(i.slice(1),function(){return a=s!==W(this)});else if("from"===i[0]){var r,l=n.$el.find(i[1]),o="_validated_";return a=l.filter(function(){var e=n.getField(this);return e&&!!W(e.getValue())}).length>=(i[2]||1),a?s||(r=null):r=u(l[0],n)||!1,e(t).data(o)||l.data(o,1).each(function(){t!==this&&n._validate(this)}).removeData(o),r}return a&&!!s},integer:function(e,t){var i,n="0|",s="[1-9]\\d*",a=t?t[0]:"*";switch(a){case"+":i=s;break;case"-":i="-"+s;break;case"+0":i=n+s;break;case"-0":i=n+"-"+s;break;default:i=n+"-?"+s}return i="^(?:"+i+")$",new RegExp(i).test(this.value)||this.messages.integer[a]},match:function(t,i){if(i){var n,s,a,r,l,o,u,d,c=this,f="eq";if(1===i.length?a=i[0]:(f=i[0],a=i[1]),o=p(a),u=c.$el.find(o)[0]){if(d=c.getField(u),n=c.value,s=d.getValue(),c._match||(c.$el.on("valid"+w+_,o,function(){e(t).trigger("validate")}),c._match=d._match=1),!c.required&&""===n&&""===s)return null;if(l=i[2],l&&(/^date(time)?$/i.test(l)?(n=g(n),s=g(s)):"time"===l&&(n=+n.replace(/:/g,""),s=+s.replace(/:/g,""))),"eq"!==f&&!isNaN(+n)&&isNaN(+s))return!0;switch(r=c.messages.match[f].replace("{1}",c._getDisplay(t,d.display||a)),f){case"lt":return+s>+n||r;case"lte":return+s>=+n||r;case"gte":return+n>=+s||r;case"gt":return+n>+s||r;case"neq":return n!==s||r;default:return n===s||r}}}},range:function(e,t){return this.getRangeMsg(this.value,t,this)},checked:function(e,t){if(f(e)){var i,n,s=this;return e.name?n=s.$el.find('input[name="'+e.name+'"]').filter(function(){var e=this;return!i&&f(e)&&(i=e),!e.disabled&&e.checked}).length:(i=e,n=i.checked),t?s.getRangeMsg(n,t,s):!!n||u(i,s,"")||s.messages.required}},length:function(e,t){var i=this.value,n=("true"===t[1]?i.replace(I,"xx"):i).length;return this.getRangeMsg(n,t,this,t[1]?"_2":"")},remote:function(t,i){if(i){var n,s=this,a=B.exec(i[0]),r=s._rules[s._i],l={},o="",u=a[3],d=a[2]||"POST",c=(a[1]||"").toLowerCase();return r.must=!0,l[t.name]=s.value,i[1]&&e.map(i.slice(1),function(e){var t,i;~e.indexOf("=")?o+="&"+e:(t=e.split(":"),e=W(t[0]),i=W(t[1])||e,l[e]=s.$el.find(p(i)).val())}),l=e.param(l)+o,!s.must&&r.data&&r.data===l?r.result:("cors"!==c&&/^https?:/.test(u)&&!~u.indexOf(location.host)&&(n="jsonp"),e.ajax({url:u,type:d,data:l,dataType:n}))}},validate:function(t,i){var n="_validated_";i&&!e(t).data(n)&&this.$el.find(e.map(i,function(e){return p(e)}).join(",")).data(n,1).trigger("validate").removeData(n)},filter:function(e,t){var i=this.value,n=i.replace(t?new RegExp("["+t[0]+"]","gm"):U,"");n!==i&&this.setValue(n)}}),i.config=function(t,i){function n(e,t){"rules"===e?new s(t):"messages"===e?new a(t):Z[e]=t}X(t)?e.each(t,n):Q(t)&&n(t,i)},i.setTheme=function(t,i){X(t)?e.extend(!0,ee,t):Q(t)&&X(i)&&(ee[t]=e.extend(ee[t],i))},e[v]=i,function(t){var n,s,a,r,l,o,u=document,d=u.getElementsByTagName("script");if(t)s=d[0],n=t.match(/(.*(?:\/|\?))local(?:\/|=)([\w\-]{2,5})(?=\.js)?/);else for(a=d.length,r=/(.*validator(?:\.min)?.js)\?.*local=([\w\-]*)/;a--&&!n;)s=d[a],n=(s.hasAttribute?s.src:s.getAttribute("src",4)||"").match(r);n&&(l=n[1].split("/").slice(0,-1).join("/")+"/",o=u.createElement("link"),o.rel="stylesheet",o.href=l+"jquery.validator.css",s.parentNode.insertBefore(o,s),t||(i.loading=1,o=u.createElement("script"),o.src=l+"local/"+(n[2]||u.documentElement.lang||"en").replace("_","-")+".js",a="onload"in o?"onload":"onreadystatechange",o[a]=function(){(!o.readyState||/loaded|complete/.test(o.readyState))&&(e(window).trigger("validatorready"),delete i.loading,o=o[a]=null)},s.parentNode.insertBefore(o,s)))}(e._VALIDATOR_URI)});